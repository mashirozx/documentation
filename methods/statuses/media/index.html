<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=/favicon.ico><link rel=stylesheet href=https://docs-hello.2heng.xin/style.min.da6b681cd9608c99ab8f7bd6902f5610646e9db147dd3a59bde4b1d9194736cd.css><script src=https://docs-hello.2heng.xin/main.min.db37c27117ff8400e5e30549f6806d2bc825668b596d81316c6148417f59bc72.js async></script><title>media - Mastodon documentation</title><meta property="og:type" content="article"><meta property="og:url" content="https://docs-hello.2heng.xin/methods/statuses/media/"><meta name=description content="Attach media to authored statuses. See Using Mastodon > Posting toots > Attachments for more information about size and format limits."><meta property="og:description" content="Attach media to authored statuses. See Using Mastodon > Posting toots > Attachments for more information about size and format limits."><meta name=twitter:description content="Attach media to authored statuses. See Using Mastodon > Posting toots > Attachments for more information about size and format limits."><meta name=twitter:title content="media"><meta name=twitter:site content="@MastodonProject"><link rel=canonical href=https://docs-hello.2heng.xin/methods/statuses/media/></head><body><div class="container sidebar-layout"><nav class=sidebar><a class=brand href=/><img class=link-logo src=/brand.svg alt=Mastodon></a><ul><li><a href=/>What is Mastodon?</a></li><li><span class=sub-title>Using Mastodon</span><ul class=sub-menu><li><a href=/user/signup/>Signing up for an account</a></li><li><a href=/user/profile/>Setting up your profile</a></li><li><a href=/user/posting/>Posting toots</a></li><li><a href=/user/network/>Using the network features</a></li><li><a href=/user/moderating/>Dealing with unwanted content</a></li><li><a href=/user/discoverability/>Promoting yourself and others</a></li><li><a href=/user/preferences/>Set your preferences</a></li><li><a href=/user/contacts/>More settings</a></li><li><a href=/user/external/>Using Mastodon externally</a></li><li><a href=/user/moving/>Moving or leaving accounts</a></li><li><a href=/user/run-your-own/>Running your own server</a></li></ul></li><li><span class=sub-title>Running Mastodon</span><ul class=sub-menu><li><a href=/admin/prerequisites/>Preparing your machine</a></li><li><a href=/admin/install/>Installing from source</a></li><li><a href=/admin/config/>Configuring your environment</a></li><li><a href=/admin/optional/>Installing optional features</a><ul class=sub-menu><li><a href=/admin/optional/elasticsearch/>Full-text search</a></li><li><a href=/admin/optional/tor/>Hidden services</a></li><li><a href=/admin/optional/sso/>Single Sign On</a></li></ul></li><li><a href=/admin/setup/>Setting up your new instance</a></li><li><a href=/admin/tootctl/>Using the admin CLI</a></li><li><a href=/admin/upgrading/>Upgrading to a new release</a></li><li><a href=/admin/backups/>Backing up your server</a></li><li><a href=/admin/migrating/>Migrating to a new machine</a></li><li><a href=/admin/scaling/>Scaling up your server</a></li><li><a href=/admin/moderation/>Moderation actions</a></li><li><a href=/admin/troubleshooting/>Troubleshooting errors</a></li></ul></li><li><span class=sub-title>Developing Mastodon apps</span><ul class=sub-menu><li><a href=/client/intro/>Getting started with the API</a></li><li><a href=/client/public/>Playing with public data</a></li><li><a href=/client/token/>Obtaining client app access</a></li><li><a href=/client/authorized/>Logging in with an account</a></li><li><a href=/client/guidelines/>Guidelines and best practices</a></li><li><a href=/client/libraries/>Libraries and implementations</a></li></ul></li><li><span class=sub-title>Contributing to Mastodon</span><ul class=sub-menu><li><a href=/dev/overview/>Technical overview</a></li><li><a href=/dev/setup/>Setting up a dev environment</a></li><li><a href=/dev/code/>Code structure</a></li><li><a href=/dev/routes/>Routes</a></li><li><a href=/dev/disclosure/>Bug bounties and responsible disclosure</a></li></ul></li><li><span class=sub-title>Spec compliance</span><ul class=sub-menu><li><a href=/spec/activitypub/>ActivityPub</a></li><li><a href=/spec/webfinger/>WebFinger</a></li><li><a href=/spec/security/>Security</a></li><li><a href=/spec/microformats/>Microformats</a></li><li><a href=/spec/oauth/>OAuth</a></li></ul></li><li><span class=sub-title>REST API</span><ul class=sub-menu><li><a href=/api/oauth-scopes/>OAuth Scopes</a></li><li><a href=/api/rate-limits/>Rate limits</a></li></ul></li><li><span class=sub-title>API Methods</span><ul class=sub-menu><li><a href=/methods/apps/>apps</a><ul class=sub-menu><li><a href=/methods/apps/oauth/>oauth</a></li></ul></li><li><a href=/methods/accounts/>accounts</a><ul class=sub-menu><li><a href=/methods/accounts/bookmarks/>bookmarks</a></li><li><a href=/methods/accounts/favourites/>favourites</a></li><li><a href=/methods/accounts/mutes/>mutes</a></li><li><a href=/methods/accounts/blocks/>blocks</a></li><li><a href=/methods/accounts/domain_blocks/>domain_blocks</a></li><li><a href=/methods/accounts/filters/>filters</a></li><li><a href=/methods/accounts/reports/>reports</a></li><li><a href=/methods/accounts/follow_requests/>follow_requests</a></li><li><a href=/methods/accounts/endorsements/>endorsements</a></li><li><a href=/methods/accounts/featured_tags/>featured_tags</a></li><li><a href=/methods/accounts/preferences/>preferences</a></li><li><a href=/methods/accounts/suggestions/>suggestions</a></li></ul></li><li><a href=/methods/statuses/>statuses</a><ul class=sub-menu><li><a href=/methods/statuses/media/ class=active>media</a></li><li><a href=/methods/statuses/polls/>polls</a></li><li><a href=/methods/statuses/scheduled_statuses/>scheduled_statuses</a></li></ul></li><li><a href=/methods/timelines/>timelines</a><ul class=sub-menu><li><a href=/methods/timelines/conversations/>conversations</a></li><li><a href=/methods/timelines/lists/>lists</a></li><li><a href=/methods/timelines/markers/>markers</a></li><li><a href=/methods/timelines/streaming/>streaming</a></li></ul></li><li><a href=/methods/notifications/>notifications</a><ul class=sub-menu><li><a href=/methods/notifications/push/>push</a></li></ul></li><li><a href=/methods/search/>search</a></li><li><a href=/methods/instance/>instance</a><ul class=sub-menu><li><a href=/methods/instance/trends/>trends</a></li><li><a href=/methods/instance/directory/>directory</a></li><li><a href=/methods/instance/custom_emojis/>custom_emojis</a></li></ul></li><li><a href=/methods/admin/>admin</a></li><li><a href=/methods/announcements/>announcements</a></li><li><a href=/methods/proofs/>proofs</a></li><li><a href=/methods/oembed/>oembed</a></li></ul></li><li><span class=sub-title>API Entities</span><ul class=sub-menu><li><a href=/entities/account/>Account</a></li><li><a href=/entities/activity/>Activity</a></li><li><a href=/entities/admin-account/>Admin::Account</a></li><li><a href=/entities/admin-report/>Admin::Report</a></li><li><a href=/entities/announcement/>Announcement</a></li><li><a href=/entities/announcementreaction/>AnnouncementReaction</a></li><li><a href=/entities/application/>Application</a></li><li><a href=/entities/attachment/>Attachment</a></li><li><a href=/entities/card/>Card</a></li><li><a href=/entities/context/>Context</a></li><li><a href=/entities/conversation/>Conversation</a></li><li><a href=/entities/emoji/>Emoji</a></li><li><a href=/entities/error/>Error</a></li><li><a href=/entities/featuredtag/>FeaturedTag</a></li><li><a href=/entities/field/>Field</a></li><li><a href=/entities/filter/>Filter</a></li><li><a href=/entities/history/>History</a></li><li><a href=/entities/identityproof/>IdentityProof</a></li><li><a href=/entities/instance/>Instance</a></li><li><a href=/entities/list/>List</a></li><li><a href=/entities/marker/>Marker</a></li><li><a href=/entities/mention/>Mention</a></li><li><a href=/entities/notification/>Notification</a></li><li><a href=/entities/poll/>Poll</a></li><li><a href=/entities/preferences/>Preferences</a></li><li><a href=/entities/pushsubscription/>PushSubscription</a></li><li><a href=/entities/relationship/>Relationship</a></li><li><a href=/entities/report/>Report</a></li><li><a href=/entities/results/>Results</a></li><li><a href=/entities/scheduledstatus/>ScheduledStatus</a></li><li><a href=/entities/source/>Source</a></li><li><a href=/entities/status/>Status</a></li><li><a href=/entities/tag/>Tag</a></li><li><a href=/entities/token/>Token</a></li></ul></li></ul></nav><main><h1>media</h1><p>Attach media to authored statuses. See Using Mastodon > Posting toots > Attachments for more information about size and format limits.</p><aside><nav id=TableOfContents><ul><li><ul><li><a href=#focal-points>Focal points</a></li></ul></li></ul></nav></aside><div class=e-content><p><div><h2 class=api-method><div class=api-method-method><span>post</span></div><span class=api-method-title>Upload media as attachment</span></h2><div class=api-method-url><span class=api-method-host>https://mastodon.example</span><span class=api-method-path>/api/v1/media</span></div><div></p><p>Creates an attachment to be used with a new status.</p><p><strong>Returns:</strong> Attachment<br><strong>OAuth:</strong> User token + <code>write:media</code><br><strong>Version history:</strong><br>0.0.0 - added<br>2.3.0 - add <code>focus</code> parameter<br>3.1.3 - deprecated in favor of <code>POST /api/v2/media</code>, which is equal to v1 in all aspects, except it returns HTTP 202, and the returned JSON object has a url of null, because while the thumbnail is prepared synchronously, the full version of the media attachment will be processed in the background<br>3.2.0 - add <code>thumbnail</code> parameter</p><p></div><div class=tabs><div class=tab-pane><h4 class=tab-pane-title>Request</h4><h5 class=api-method-parameters-type>Headers</h5><div class=api-method-parameters-list><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>Authorization</div><div class=api-method-parameter-required>required</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">Bearer &lt;user token></div></div></div><h5 class=api-method-parameters-type>Form Data Parameters</h5><div class=api-method-parameters-list><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>file</div><div class=api-method-parameter-required>required</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>object</code></div><div class="api-method-parameter-cell api-method-parameter-description">The file to be attached, using multipart form data.</div></div><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>thumbnail</div><div class=api-method-parameter-optional>optional</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>object</code></div><div class="api-method-parameter-cell api-method-parameter-description">The custom thumbnail of the media to be attached, using multipart form data.</div></div><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>description</div><div class=api-method-parameter-optional>optional</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">A plain-text description of the media, for accessibility purposes.</div></div><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>focus</div><div class=api-method-parameter-optional>optional</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">Two floating points (x,y), comma-delimited, ranging from -1.0 to 1.0</div></div></div></div><div class=tab-pane><h4 class=tab-pane-title>Response</h4><div class=api-method-response-example><h5><span class=api-method-response-example-indicator></span>200: Success</h5><div></p><p>Attachment created successfully. Note that the Attachment will be created even if the file is not understood correctly.</div></p><p><div class=tabs><div class=tabs-pane><h5 class=tabs-pane-title>file correct</h5></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;id&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;22348641&#34;</span>,
  <span style=color:#f1fa8c>&#34;type&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;image&#34;</span>,
  <span style=color:#f1fa8c>&#34;url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://files.mastodon.social/media_attachments/files/022/348/641/original/cebc6d51be03e509.jpeg&#34;</span>,
  <span style=color:#f1fa8c>&#34;preview_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://files.mastodon.social/media_attachments/files/022/348/641/small/cebc6d51be03e509.jpeg&#34;</span>,
  <span style=color:#f1fa8c>&#34;remote_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#ff79c6>null</span>,
  <span style=color:#f1fa8c>&#34;text_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://mastodon.social/media/4Zj6ewxzzzDi0g8JnZQ&#34;</span>,
  <span style=color:#f1fa8c>&#34;meta&#34;</span><span style=color:#ff79c6>:</span> {
    <span style=color:#f1fa8c>&#34;focus&#34;</span><span style=color:#ff79c6>:</span> {
      <span style=color:#f1fa8c>&#34;x&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#ff79c6>-</span><span style=color:#bd93f9>0.69</span>,
      <span style=color:#f1fa8c>&#34;y&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>0.42</span>
    },
    <span style=color:#f1fa8c>&#34;original&#34;</span><span style=color:#ff79c6>:</span> {
      <span style=color:#f1fa8c>&#34;width&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>640</span>,
      <span style=color:#f1fa8c>&#34;height&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>480</span>,
      <span style=color:#f1fa8c>&#34;size&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;640x480&#34;</span>,
      <span style=color:#f1fa8c>&#34;aspect&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>1.3333333333333333</span>
    },
    <span style=color:#f1fa8c>&#34;small&#34;</span><span style=color:#ff79c6>:</span> {
      <span style=color:#f1fa8c>&#34;width&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>461</span>,
      <span style=color:#f1fa8c>&#34;height&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>346</span>,
      <span style=color:#f1fa8c>&#34;size&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;461x346&#34;</span>,
      <span style=color:#f1fa8c>&#34;aspect&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>1.3323699421965318</span>
    }
  },
  <span style=color:#f1fa8c>&#34;description&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;test uploaded via api&#34;</span>,
  <span style=color:#f1fa8c>&#34;blurhash&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;UFBWY:8_0Jxv4mx]t8t64.%M-:IUWGWAt6M}&#34;</span>
}
</code></pre></div></div><div class=tabs-pane><h5 class=tabs-pane-title>file not correct</h5><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;id&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;22348456&#34;</span>,
  <span style=color:#f1fa8c>&#34;type&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;unknown&#34;</span>,
  <span style=color:#f1fa8c>&#34;url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://mastodon.social/files/original/missing.png&#34;</span>,
  <span style=color:#f1fa8c>&#34;preview_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://mastodon.social/files/small/missing.png&#34;</span>,
  <span style=color:#f1fa8c>&#34;remote_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#ff79c6>null</span>,
  <span style=color:#f1fa8c>&#34;text_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://mastodon.social/media/Ao2nvQoQNHROpKgEyoA&#34;</span>,
  <span style=color:#f1fa8c>&#34;meta&#34;</span><span style=color:#ff79c6>:</span> {
    <span style=color:#f1fa8c>&#34;focus&#34;</span><span style=color:#ff79c6>:</span> {
      <span style=color:#f1fa8c>&#34;x&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#ff79c6>-</span><span style=color:#bd93f9>0.69</span>,
      <span style=color:#f1fa8c>&#34;y&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>0.42</span>
    }
  },
  <span style=color:#f1fa8c>&#34;description&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;test uploaded via api&#34;</span>,
  <span style=color:#f1fa8c>&#34;blurhash&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#ff79c6>null</span>
}
</code></pre></div><p></div></div></div><div class=api-method-response-example><h5><span class="api-method-response-example-indicator api-method-response-example-indicator-error"></span>401: Unauthorized</h5><div></p><p>Invalid or missing Authorization header</div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;error&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;The access token is invalid&#34;</span>
}
</code></pre></div><p></div><div class=api-method-response-example><h5><span class="api-method-response-example-indicator api-method-response-example-indicator-error"></span>422: Unprocessable Entity</h5><div></p><p>File or file type is unsupported or invalid</div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;error&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;Validation failed: File content type is invalid, File is invalid&#34;</span>
}
</code></pre></div><p></div></div></div></div></p><p><div><h2 class=api-method><div class=api-method-method><span>get</span></div><span class=api-method-title>Update attachment</span></h2><div class=api-method-url><span class=api-method-host>https://mastodon.example</span><span class=api-method-path>/api/v1/media/:id</span></div><div></p><p>Get an Attachment, before it is attached to a status and posted, but after it is accepted for processing.</p><p><strong>Returns:</strong> Attachment<br><strong>OAuth:</strong> User token + <code>write:media</code><br><strong>Version history:</strong><br>3.1.3 - added</p><p></div><div class=tabs><div class=tab-pane><h4 class=tab-pane-title>Request</h4><h5 class=api-method-parameters-type>Path Parameters</h5><div class=api-method-parameters-list><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>:id</div><div class=api-method-parameter-required>required</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">The id of the Attachment entity to be updated</div></div></div><h5 class=api-method-parameters-type>Headers</h5><div class=api-method-parameters-list><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>Authorization</div><div class=api-method-parameter-required>required</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">Bearer &lt;user token></div></div></div><h5 class=api-method-parameters-type>Form Data Parameters</h5><div class=api-method-parameters-list><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>file</div><div class=api-method-parameter-optional>optional</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>object</code></div><div class="api-method-parameter-cell api-method-parameter-description">The file to be attached, using multipart form data.</div></div><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>description</div><div class=api-method-parameter-optional>optional</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">A plain-text description of the media, for accessibility purposes.</div></div><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>focus</div><div class=api-method-parameter-optional>optional</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">Two floating points (x,y), comma-delimited ranging from -1.0 to 1.0</div></div></div></div><div class=tab-pane><h4 class=tab-pane-title>Response</h4><div class=api-method-response-example><h5><span class=api-method-response-example-indicator></span>200: Success</h5><div>Attachment has been processed</div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;id&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;22348641&#34;</span>,
  <span style=color:#f1fa8c>&#34;type&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;image&#34;</span>,
  <span style=color:#f1fa8c>&#34;url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://files.mastodon.social/media_attachments/files/022/348/641/original/e96382f26c72a29c.jpeg&#34;</span>,
  <span style=color:#f1fa8c>&#34;preview_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://files.mastodon.social/media_attachments/files/022/348/641/small/e96382f26c72a29c.jpeg&#34;</span>,
  <span style=color:#f1fa8c>&#34;remote_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#ff79c6>null</span>,
  <span style=color:#f1fa8c>&#34;text_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://mastodon.social/media/4Zj6ewxzzzDi0g8JnZQ&#34;</span>,
  <span style=color:#f1fa8c>&#34;meta&#34;</span><span style=color:#ff79c6>:</span> {
    <span style=color:#f1fa8c>&#34;focus&#34;</span><span style=color:#ff79c6>:</span> {
      <span style=color:#f1fa8c>&#34;x&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#ff79c6>-</span><span style=color:#bd93f9>0.42</span>,
      <span style=color:#f1fa8c>&#34;y&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>0.69</span>
    },
    <span style=color:#f1fa8c>&#34;original&#34;</span><span style=color:#ff79c6>:</span> {
      <span style=color:#f1fa8c>&#34;width&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>640</span>,
      <span style=color:#f1fa8c>&#34;height&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>480</span>,
      <span style=color:#f1fa8c>&#34;size&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;640x480&#34;</span>,
      <span style=color:#f1fa8c>&#34;aspect&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>1.3333333333333333</span>
    },
    <span style=color:#f1fa8c>&#34;small&#34;</span><span style=color:#ff79c6>:</span> {
      <span style=color:#f1fa8c>&#34;width&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>461</span>,
      <span style=color:#f1fa8c>&#34;height&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>346</span>,
      <span style=color:#f1fa8c>&#34;size&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;461x346&#34;</span>,
      <span style=color:#f1fa8c>&#34;aspect&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>1.3323699421965318</span>
    }
  },
  <span style=color:#f1fa8c>&#34;description&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;test uploaded via api, but updated&#34;</span>,
  <span style=color:#f1fa8c>&#34;blurhash&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;UFBWY:8_0Jxv4mx]t8t64.%M-:IUWGWAt6M}&#34;</span>
}
</code></pre></div><p></div><div class=api-method-response-example><h5><span class=api-method-response-example-indicator></span>206:</h5><div></p><p>Attachment is not yet ready</div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>
</code></pre></div><p></div><div class=api-method-response-example><h5><span class="api-method-response-example-indicator api-method-response-example-indicator-error"></span>401: Unauthorized</h5><div></p><p>Invalid or missing Authorization header</div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;error&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;The access token is invalid&#34;</span>
}
</code></pre></div><p></div><div class=api-method-response-example><h5><span class="api-method-response-example-indicator api-method-response-example-indicator-error"></span>404: Not Found</h5><div></p><p>Attachment does not exist, is deleted, or was not created by you</div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;error&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;Record not found&#34;</span>
}
</code></pre></div><p></div><div class=api-method-response-example><h5><span class="api-method-response-example-indicator api-method-response-example-indicator-error"></span>422: Unprocessable Entity</h5><div></p><p>Error processing the media attachment</div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;error&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;Validation failed: File content type is invalid, File is invalid&#34;</span>
}
</code></pre></div><p></div></div></div></div></p><p><div><h2 class=api-method><div class=api-method-method><span>put</span></div><span class=api-method-title>Update attachment</span></h2><div class=api-method-url><span class=api-method-host>https://mastodon.example</span><span class=api-method-path>/api/v1/media/:id</span></div><div></p><p>Update an Attachment, before it is attached to a status and posted.</p><p><strong>Returns:</strong> Attachment<br><strong>OAuth:</strong> User token + <code>write:media</code><br><strong>Version history:</strong><br>0.0.0 - added<br>3.2.0 - added <code>thumbnail</code></p><p></div><div class=tabs><div class=tab-pane><h4 class=tab-pane-title>Request</h4><h5 class=api-method-parameters-type>Path Parameters</h5><div class=api-method-parameters-list><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>:id</div><div class=api-method-parameter-required>required</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">The id of the Attachment entity to be updated</div></div></div><h5 class=api-method-parameters-type>Headers</h5><div class=api-method-parameters-list><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>Authorization</div><div class=api-method-parameter-required>required</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">Bearer &lt;user token></div></div></div><h5 class=api-method-parameters-type>Form Data Parameters</h5><div class=api-method-parameters-list><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>file</div><div class=api-method-parameter-optional>optional</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>object</code></div><div class="api-method-parameter-cell api-method-parameter-description">The file to be attached, using multipart form data.</div></div><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>thumbnail</div><div class=api-method-parameter-optional>optional</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>object</code></div><div class="api-method-parameter-cell api-method-parameter-description">The custom thumbnail of the media to be attached, using multipart form data.</div></div><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>description</div><div class=api-method-parameter-optional>optional</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">A plain-text description of the media, for accessibility purposes.</div></div><div class=api-method-parameter><div class="api-method-parameter-cell api-method-parameter-name"><div>focus</div><div class=api-method-parameter-optional>optional</div></div><div class="api-method-parameter-cell api-method-parameter-type"><code>string</code></div><div class="api-method-parameter-cell api-method-parameter-description">Two floating points (x,y), comma-delimited ranging from -1.0 to 1.0</div></div></div></div><div class=tab-pane><h4 class=tab-pane-title>Response</h4><div class=api-method-response-example><h5><span class=api-method-response-example-indicator></span>200: Success</h5><div></div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;id&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;22348641&#34;</span>,
  <span style=color:#f1fa8c>&#34;type&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;image&#34;</span>,
  <span style=color:#f1fa8c>&#34;url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://files.mastodon.social/media_attachments/files/022/348/641/original/e96382f26c72a29c.jpeg&#34;</span>,
  <span style=color:#f1fa8c>&#34;preview_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://files.mastodon.social/media_attachments/files/022/348/641/small/e96382f26c72a29c.jpeg&#34;</span>,
  <span style=color:#f1fa8c>&#34;remote_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#ff79c6>null</span>,
  <span style=color:#f1fa8c>&#34;text_url&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;https://mastodon.social/media/4Zj6ewxzzzDi0g8JnZQ&#34;</span>,
  <span style=color:#f1fa8c>&#34;meta&#34;</span><span style=color:#ff79c6>:</span> {
    <span style=color:#f1fa8c>&#34;focus&#34;</span><span style=color:#ff79c6>:</span> {
      <span style=color:#f1fa8c>&#34;x&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#ff79c6>-</span><span style=color:#bd93f9>0.42</span>,
      <span style=color:#f1fa8c>&#34;y&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>0.69</span>
    },
    <span style=color:#f1fa8c>&#34;original&#34;</span><span style=color:#ff79c6>:</span> {
      <span style=color:#f1fa8c>&#34;width&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>640</span>,
      <span style=color:#f1fa8c>&#34;height&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>480</span>,
      <span style=color:#f1fa8c>&#34;size&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;640x480&#34;</span>,
      <span style=color:#f1fa8c>&#34;aspect&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>1.3333333333333333</span>
    },
    <span style=color:#f1fa8c>&#34;small&#34;</span><span style=color:#ff79c6>:</span> {
      <span style=color:#f1fa8c>&#34;width&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>461</span>,
      <span style=color:#f1fa8c>&#34;height&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>346</span>,
      <span style=color:#f1fa8c>&#34;size&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;461x346&#34;</span>,
      <span style=color:#f1fa8c>&#34;aspect&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#bd93f9>1.3323699421965318</span>
    }
  },
  <span style=color:#f1fa8c>&#34;description&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;test uploaded via api, but updated&#34;</span>,
  <span style=color:#f1fa8c>&#34;blurhash&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;UFBWY:8_0Jxv4mx]t8t64.%M-:IUWGWAt6M}&#34;</span>
}
</code></pre></div><p></div><div class=api-method-response-example><h5><span class="api-method-response-example-indicator api-method-response-example-indicator-error"></span>401: Unauthorized</h5><div></p><p>Invalid or missing Authorization header</div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;error&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;The access token is invalid&#34;</span>
}
</code></pre></div><p></div><div class=api-method-response-example><h5><span class="api-method-response-example-indicator api-method-response-example-indicator-error"></span>404: Not Found</h5><div></p><p>Attachment does not exist, is deleted, or was not created by you</div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;error&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;Record not found&#34;</span>
}
</code></pre></div><p></div><div class=api-method-response-example><h5><span class="api-method-response-example-indicator api-method-response-example-indicator-error"></span>422: Unprocessable Entity</h5><div></p><p>File or file type is unsupported or invalid</div></p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript>{
  <span style=color:#f1fa8c>&#34;error&#34;</span><span style=color:#ff79c6>:</span> <span style=color:#f1fa8c>&#34;Validation failed: File content type is invalid, File is invalid&#34;</span>
}
</code></pre></div><p></div></div></div></div></p><h2 id=focal-points>Focal points</h2><p>Server-side preview images are never cropped, to support a variety of apps and user interfaces. Therefore, the cropping must be done by those apps. To crop intelligently, focal points can be used to ensure a certain section of the image is always within the cropped viewport. <a href=https://github.com/jonom/jquery-focuspoint#1-calculate-your-images-focus-point>See this guide on how focal points are defined.</a> In summary, floating points range from -1.0 to 1.0, left-to-right or bottom-to-top. (0,0) is the center of the image. (0.5, 0.5) would be in the center of the upper-right quadrant. (-0.5, -0.5) would be in the center of the lower-left quadrant. For reference, thumbnails in the Mastodon frontend are most commonly 16:9.</p><p><figure><img src=..//assets/image%20%2856%29.png alt="A demonstration of various focal points and their coordinates."><figcaption><p>A demonstration of various focal points and their coordinates.</p></figcaption></figure><figure><img src=..//assets/image%20%2856%29.png alt="A demonstration of various focal points and their coordinates."><figcaption><p>A demonstration of various focal points and their coordinates.</p></figcaption></figure></p><p style=color:#687590>Last updated July 10, 2020 · <a href=https://github.com/tootsuite/documentation/tree/master/content/en/methods/statuses/media.md style=color:#687590>Improve this page</a></p></div></main></div><footer class="footer container"><a href=https://designbyhumans.com/shop/mastodon class=panel style=background-image:url(/shirt.png)><div class=overlay><h5>Merch</h5><p>T-shirts and stickers</p></div></a><p class="legal legal--right"><a href=https://joinmastodon.org>Join Mastodon</a> · <a href=https://blog.joinmastodon.org>Blog</a> · <a href=https://mastodon.social/@Mastodon target=_blank><i class="fab fa-mastodon"></i></a>· <a href=https://twitter.com/MastodonProject rel=nofollow target=_blank><i class="fab fa-twitter"></i></a></p><p class=legal><a href=https://github.com/tootsuite/documentation/tree/master/content/en/methods/statuses/media.md>View source</a> · <a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA 4.0</a> · <a href=https://joinmastodon.org/imprint>Imprint</a></p></footer></body></html>